{% extends "base.html" %}

{% block content %}
<div class="home-content-wrapper">
    <!-- 검색창 -->
    <div class="home-search-container">
        <form action="{{ url_for('main.gallery') }}" method="get" class="home-search-form">
            <div class="home-search-input-wrapper">
                <i class="bi bi-search home-search-icon"></i>
                <input type="text" name="q" class="form-control home-search-input" 
                       placeholder="{% if current_lang == 'en' %}Search...{% else %}검색...{% endif %}"
                       value="{{ request.args.get('q', '') }}"
                       autocomplete="off">
                <button type="submit" class="btn home-search-btn" aria-label="{% if current_lang == 'en' %}Search{% else %}검색{% endif %}">
                    {% if current_lang == 'en' %}Search{% else %}검색{% endif %}
                </button>
            </div>
        </form>
    </div>

    <!-- 최근 스케줄 목록 -->
    <div class="home-schedules-container">
        {% if recent_schedules %}
            <div class="home-schedules-list">
                {% for schedule in recent_schedules %}
                <div class="home-schedule-item">
                    <div class="schedule-logo">
                        {% if schedule.category == 'gallery' %}
                            <div class="schedule-logo-icon schedule-logo-gallery">
                                <i class="bi bi-image"></i>
                            </div>
                        {% elif schedule.category == 'archive_1' %}
                            <div class="schedule-logo-icon schedule-logo-archive1">
                                <i class="bi bi-heart"></i>
                            </div>
                        {% elif schedule.category == 'archive_2' %}
                            <div class="schedule-logo-icon schedule-logo-archive2">
                                <i class="bi bi-hand-thumbs-up"></i>
                            </div>
                        {% else %}
                            <div class="schedule-logo-icon schedule-logo-default">
                                <i class="bi bi-file-text"></i>
                            </div>
                        {% endif %}
                    </div>
                    <div class="schedule-content">
                        <div class="schedule-text">
                            {% if schedule.category == 'gallery' %}
                                <span class="schedule-hashtag schedule-hashtag-gallery">#갤러리</span>
                            {% elif schedule.category == 'archive_1' %}
                                <span class="schedule-hashtag schedule-hashtag-archive1">#프롬유</span>
                            {% elif schedule.category == 'archive_2' %}
                                <span class="schedule-hashtag schedule-hashtag-archive2">#서포트</span>
                            {% endif %}
                            <span class="schedule-title">{{ schedule.title }}</span>
                        </div>
                        <div class="schedule-meta">
                            <span class="schedule-author">{{ schedule.author.name if schedule.author else 'Unknown' }}</span>
                            <span class="schedule-date">{{ schedule.created_at.strftime('%Y.%m.%d') if schedule.created_at else '' }}</span>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        {% else %}
            <div class="home-schedules-empty">
                <p>{% if current_lang == 'en' %}No schedules yet.{% else %}아직 등록된 스케줄이 없습니다.{% endif %}</p>
            </div>
        {% endif %}
    </div>
</div>
{% endblock %}
