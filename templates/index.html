{% extends "base.html" %}

{% block content %}
<div class="home-content-wrapper">
    <!-- 메인 타이틀 -->
    <div class="home-title-container">
        <img src="{{ url_for('static', filename='images/logo_1.png') }}" alt="{% if current_lang == 'en' %}IU DOTCOM{% else %}아이유 닷컴{% endif %}" class="home-title-image">
    </div>
    
    <!-- 최근 스케줄 목록 -->
    <div class="home-schedules-container">
        {% if recent_schedules %}
            <!-- 1번줄: 1-10번째 게시글, 오른쪽으로 이동 -->
            <div class="home-schedules-row home-schedules-row-1">
                <div class="home-schedules-track">
                    {% for schedule in recent_schedules[0:10] %}
                    <a href="{% if schedule.category == 'gallery' %}{{ url_for('main.gallery_detail', post_id=schedule.id) }}{% elif schedule.category == 'archive_1' %}{{ url_for('main.archive_detail', type_name='archive_1', post_id=schedule.id) }}{% elif schedule.category == 'archive_2' %}{{ url_for('main.archive_detail', type_name='archive_2', post_id=schedule.id) }}{% endif %}" class="home-schedule-item">
                        <div class="schedule-content">
                            <div class="schedule-title">{{ schedule.title }}</div>
                        </div>
                    </a>
                    {% endfor %}
                    <!-- 복제본 (무한 스크롤용) -->
                    {% for schedule in recent_schedules[0:10] %}
                    <a href="{% if schedule.category == 'gallery' %}{{ url_for('main.gallery_detail', post_id=schedule.id) }}{% elif schedule.category == 'archive_1' %}{{ url_for('main.archive_detail', type_name='archive_1', post_id=schedule.id) }}{% elif schedule.category == 'archive_2' %}{{ url_for('main.archive_detail', type_name='archive_2', post_id=schedule.id) }}{% endif %}" class="home-schedule-item">
                        <div class="schedule-content">
                            <div class="schedule-title">{{ schedule.title }}</div>
                        </div>
                    </a>
                    {% endfor %}
                </div>
            </div>
            
            <!-- 2번줄: 11-20번째 게시글, 왼쪽으로 이동 -->
            <div class="home-schedules-row home-schedules-row-2">
                <div class="home-schedules-track home-schedules-track-reverse">
                    {% for schedule in recent_schedules[10:20] %}
                    <a href="{% if schedule.category == 'gallery' %}{{ url_for('main.gallery_detail', post_id=schedule.id) }}{% elif schedule.category == 'archive_1' %}{{ url_for('main.archive_detail', type_name='archive_1', post_id=schedule.id) }}{% elif schedule.category == 'archive_2' %}{{ url_for('main.archive_detail', type_name='archive_2', post_id=schedule.id) }}{% endif %}" class="home-schedule-item">
                        <div class="schedule-content">
                            <div class="schedule-title">{{ schedule.title }}</div>
                        </div>
                    </a>
                    {% endfor %}
                    <!-- 복제본 (무한 스크롤용) -->
                    {% for schedule in recent_schedules[10:20] %}
                    <a href="{% if schedule.category == 'gallery' %}{{ url_for('main.gallery_detail', post_id=schedule.id) }}{% elif schedule.category == 'archive_1' %}{{ url_for('main.archive_detail', type_name='archive_1', post_id=schedule.id) }}{% elif schedule.category == 'archive_2' %}{{ url_for('main.archive_detail', type_name='archive_2', post_id=schedule.id) }}{% endif %}" class="home-schedule-item">
                        <div class="schedule-content">
                            <div class="schedule-title">{{ schedule.title }}</div>
                        </div>
                    </a>
                    {% endfor %}
                </div>
            </div>
            
            <!-- 3번줄: 21-30번째 게시글, 오른쪽으로 이동 -->
            <div class="home-schedules-row home-schedules-row-3">
                <div class="home-schedules-track">
                    {% for schedule in recent_schedules[20:30] %}
                    <a href="{% if schedule.category == 'gallery' %}{{ url_for('main.gallery_detail', post_id=schedule.id) }}{% elif schedule.category == 'archive_1' %}{{ url_for('main.archive_detail', type_name='archive_1', post_id=schedule.id) }}{% elif schedule.category == 'archive_2' %}{{ url_for('main.archive_detail', type_name='archive_2', post_id=schedule.id) }}{% endif %}" class="home-schedule-item">
                        <div class="schedule-content">
                            <div class="schedule-title">{{ schedule.title }}</div>
                        </div>
                    </a>
                    {% endfor %}
                    <!-- 복제본 (무한 스크롤용) -->
                    {% for schedule in recent_schedules[20:30] %}
                    <a href="{% if schedule.category == 'gallery' %}{{ url_for('main.gallery_detail', post_id=schedule.id) }}{% elif schedule.category == 'archive_1' %}{{ url_for('main.archive_detail', type_name='archive_1', post_id=schedule.id) }}{% elif schedule.category == 'archive_2' %}{{ url_for('main.archive_detail', type_name='archive_2', post_id=schedule.id) }}{% endif %}" class="home-schedule-item">
                        <div class="schedule-content">
                            <div class="schedule-title">{{ schedule.title }}</div>
                        </div>
                    </a>
                    {% endfor %}
                </div>
            </div>
        {% else %}
            <div class="home-schedules-empty">
                <p>{% if current_lang == 'en' %}No schedules yet.{% else %}아직 등록된 스케줄이 없습니다.{% endif %}</p>
            </div>
        {% endif %}
    </div>

    <!-- 검색창 -->
    <div class="home-search-container">
        <form action="{{ url_for('main.gallery') }}" method="get" class="home-search-form">
            <div class="home-search-input-wrapper">
                <i class="bi bi-search home-search-icon"></i>
                <input type="text" name="q" class="form-control home-search-input" 
                       placeholder="{% if current_lang == 'en' %}Search...{% else %}검색...{% endif %}"
                       value="{{ request.args.get('q', '') }}"
                       autocomplete="off">
                <button type="submit" class="btn home-search-btn" aria-label="{% if current_lang == 'en' %}Search{% else %}검색{% endif %}">
                    {% if current_lang == 'en' %}Search{% else %}검색{% endif %}
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}
